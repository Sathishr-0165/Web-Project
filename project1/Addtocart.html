<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Cart</title>
    <style>
        .cart-item {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
        }
        button {
            padding: 10px;
            margin-top: 10px;
            cursor: pointer;
        }
        .remove-btn {
            background:white;
            color: black;
            border: none;
            padding: 5px 10px;
            margin-left: 15px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <a href="homepage.html">Previous Page</a>
    <center>
    <h1>Your Cart</h1>
    <div id="cartItems"></div>
    <h3 id="totalAmount"></h3>
    <a href="address.html"><button onclick="placeOrder()">Order Now</button></a>
    </center>
    

    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let cartContainer = document.getElementById('cartItems');
        let total = 0;

        function renderCart() {
            cartContainer.innerHTML = "";
            total = 0;

            if (cart.length === 0) {
                cartContainer.innerHTML = "<p>Your cart is empty.</p>";
                document.getElementById('totalAmount').innerText = "";
                return;
            }

            cart.forEach((item, index) => {
                cartContainer.innerHTML += `
                    <div class="cart-item">
                        <p>${item.name} - $${item.price}
                        <button class="remove-btn" onclick="removeItem(${index})">X</button></p>
                    </div>`;
                total += item.price;
            });

            document.getElementById('totalAmount').innerText = "Total: $" + total;
        }

        function removeItem(index) {
            cart.splice(index, 1); 
            localStorage.setItem('cart', JSON.stringify(cart)); 
            renderCart(); 
        }

        function placeOrder() {
            if (cart.length === 0) {
                alert("Your cart is empty!");
                return;
            }
            localStorage.removeItem('cart');
            window.location.href = "payment.html";
        }

        renderCart(); 
    </script>
</body>
</html>
